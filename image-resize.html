---
layout: default
language: en-GB
group: "side-nav"
title: Online Image Resizer
description: Resize and crop your pictures online for free. Resize photos for Facebook, Twitter, Pinterest, Reddit or Tumblr blog even on your phone.
---
<div class="k">
	<h2 class="header"><div class="no">1 </div>Load Image</h2>
	<div class="marginLeft">
		<p><label for="imageLoader" class="dropZone"><span>Drop files here</br>OR</br>Click to load</span><input type="file" id="imageLoader" name="imageLoader"/></label></p>
	</div>
	<h2 class="header"><div class="no">2 </div>Resize Image</h2>
		<div class="marginLeft">
			<p>Resize by: </p>
			<p>
				<label class="lightCTA"><input type="radio" id="percent" name="resizeType" tabGroup="resizeBy" checked="true"> Scale Image</label>
				<label class="lightCTA"><input type="radio" id="custom"  name="resizeType" tabGroup="resizeBy"> Custom Size</label>
				<!--<label class="lightCTA"><input type="radio" id="crop"  name="resizeType" tabGroup="resizeBy"> Crop</label>-->
			</p>
			<div tabGroupContent="resizeBy">
				<div contentFor="percent">
					<p>
						<label>Percentage</label><input id="percentage" type="range" min="1" max="125" step="1" oninput="document.getElementById('percentageDisp').value=this.value" onchange="document.getElementById('percentageDisp').value=this.value">
						<input type="number" id="percentageDisp" min="1" max="100" value="50" oninput="document.getElementById('percentage').value=this.value" onchange="document.getElementById('percentage').value=this.value">    
					</p>
				</div>
				<div contentFor="custom">
					<p><label for="width">Width: </label><input id="width" name="width" type="number"></p>
					<p><label for="height">Height: </label><input id="height" name="height" type="number"></p>
					<p><label for="aspectRatio">Maintain aspect ratio </label><input type="checkbox" checked="true" id="aspectRatio" name="aspectRatio"></p>
				</div>
				<div contentFor="crop">
					<p><label for="width">Width: </label><input id="width" name="width" type="number"></p>
					<p><label for="height">Height: </label><input id="height" name="height" type="number"></p>
					<p><label for="aspectRatio">Maintain aspect ratio </label><input type="checkbox" checked="true" id="aspectRatio" name="aspectRatio"></p>
				</div>
			</div>
		</div>
	<h2 class="header"><div class="no">3 </div>Output Image</h2>
	<div class="marginLeft">
		<p>File type:</p>
		<label class="lightCTA"><input type="radio" name="outputFiletype" value="image/jpeg" checked="true"> JPEG</label>
		<label class="lightCTA"><input type="radio" name="outputFiletype" value="image/png"> PNG</label>
		
		<p><input type="button" value="Download" id="downloadButton" class="cta"></p>
	</div>
</div><div class="k">
	<h3>Preview:</h3>
	<p><img id="outputImg"></p>
</div>
<script src="lib/download.min.js" async></script>
<script>
"use strict";
Object.prototype.forEach=function(c){for(var b=Object.keys(this),a=0;a<b.length;a++)c(this[b[a]],b[a])};

document.querySelectorAll("[tabGroup]").forEach(function(elem) {
	elem.addEventListener("click", function(e) {
		document.querySelectorAll("[tabGroupContent=" +e.target.attributes.tabGroup.value +"]").forEach(function(container) {
			/* 		TODO: Change the height of the element to elem.clientHeight and then change it back to auto after ~1second 		*/
			container.children.forEach(function(contentElem){if (contentElem.attributes.contentfor.value===e.target.id){contentElem.style.height='auto';contentElem.style.opacity=1}else{contentElem.style.height=0;contentElem.style.opacity=0}});
		});
	});
	if(elem.checked)elem.click()
});


var fileExtensions = [".jpg", ".jpeg", ".bmp", ".gif", ".png"];  
function byId(id) { return document.getElementById(id) };

var elems = {
	downloadButton:	byId("downloadButton"),

	imgOutput:	byId("outputImg"),
	
	dropZone: document.querySelector(".dropZone"),
	fileTypeInput: byId("fileType"),
	widthInput:	byId("width"),
	heightInput: byId("height"),
	fileInput: byId("imageLoader"),
	percentInput: byId("percentage"),
	aspectRatioInput: byId("aspectRatio")
};

var img = {
	fileName: "resizedImage.png",
	data: new Image(),
	canvas: document.createElement("canvas"),
	fileSize: 0,
	dataURI: "",
	fileType: "image/png",
	generateURI: function() {
		var URI = img.canvas.toDataURL(document.querySelector('input[name="outputFiletype"]:checked').value);
		img.dataURI = URI;
		elems.imgOutput.src = URI;
	}
};

var events = {
	drop: function(e) {
		e.preventDefault();
		e.stopPropagation();
		if (e.dataTransfer.files.length > 0) {
			loadImage(e.dataTransfer.files[0]);
		}
	},
	upload: function(e) {
		if (e.target.files.length > 0) {
			loadImage(e.target.files[0]);
		}
	}
};
 

/**
	Stores the uploaded image in the 'img' variable
*/
function loadImage(file) {
    var reader = new FileReader();
    reader.onload = function(event){console.log(event);
        img.data.onload = function(){
			resize.percent(0, 100);
			elems.widthInput.value = img.data.width;
			elems.heightInput.value = img.data.height;
        }
        img.data.src = event.target.result;
    }
    reader.readAsDataURL(file);
	img.fileName = file.name.split(".")[0];
	img.fileSize = file.size;
    
}

var resize = {
	percent: function(event, percent) {
		percent = percent || elems.percentInput.value || 50;
		var canvas = img.canvas;
		var ctx = canvas.getContext('2d');
		
		var width = img.data.width * (percent/100);
		var height = img.data.height * (percent/100);
		
		canvas.width = width;
		canvas.height = height;
		
		ctx.drawImage(img.data, 0, 0, width, height);
		
		img.generateURI();
	},
	customSize: function(event, width, height) {
		width = width || elems.widthInput.value || 100;
		height = height || elems.heightInput.value || 100;

		if (elems.aspectRatioInput.checked) {
			if (event.target.id === "width") {
				height = Math.round((width/img.data.width)*img.data.height);
				elems.heightInput.value = height;
			}
			if (event.target.id === "height") {
				width = Math.round((height/img.data.height)*img.data.width);
				elems.widthInput.value = width;
			}
		}

		var canvas = document.createElement("canvas");
		var ctx = canvas.getContext('2d');
		
		canvas.width = width;
		canvas.height = height;
		
		ctx.drawImage(img.data, 0, 0, width, height);
		
		img.generateURI();
	}
};

function updateOutputImage(href) {
	elems.imgOutput.src = href;
	img.dataURI = href;
}

elems.fileInput.addEventListener('change', events.upload, false);

elems.widthInput.addEventListener('input', resize.customSize, false);
elems.heightInput.addEventListener('input', resize.customSize, false);
elems.percentInput.addEventListener('change', resize.percent, false);

elems.downloadButton.addEventListener('click', function() { download(img.dataURI,"rsz_"+img.fileName, document.querySelector('input[name="outputFiletype"]:checked').value) }, false);
document.querySelectorAll('input[name="outputFiletype"]').forEach(function(elem) { elem.addEventListener('change',img.generateURI) });

var supportsFileDrop = function() {
  var div = document.createElement('div');
  return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && 'FormData' in window && 'FileReader' in window;
}();

if (supportsFileDrop) {
	elems.dropZone.addEventListener('dragover', function(e) {
		elems.dropZone.classList.add("dragover");
	    e.preventDefault();
		e.stopPropagation();
	}, true);
	elems.dropZone.addEventListener('dragleave', function(e) {
		elems.dropZone.classList.remove("dragover");
	    e.preventDefault();
		e.stopPropagation();
	}, true);
	elems.dropZone.addEventListener('drop', events.drop, true);
} else {
	document.getElementById("imageLoaderText").innerText = "Click to load image";
}

</script>
<style>
canvas, #outputImg{
	max-width: 100%;
	max-height: 300px;
	border: 1px solid #ccc;
}
#imageLoader {
    opacity: 0;
    display: none;
}
.dropZone {
	display: inline-block;
    cursor: pointer;
    background-color: #F1F1F1;
    border: 2px dashed #ccc;
    border-radius: 10px;
    padding: 30px 45px;
	text-align: center;
	transition: all .5s;
}
.dropZone.dragover, .dropZone:hover {
	border: 2px dashed #999;
	background-color: #E6E6E6;
}
#percentageDisp {
    font-size: 13px;
    border: 0;
    font-weight: bold;
    border-bottom: 1px solid #ccc;
    margin-left: 3px;
    width: 50px;
}
#percentage {
	margin: 0 6px;
	padding: 0;
}
</style>